<!DOCTYPE html>
<html lang="fr">
<head>
	<title>Happy New Year !</title>
	<!-- Global site tag (gtag.js) — Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-D8VGV2T8YH"></script>
	<script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
          dataLayer.push(arguments);
      }

      gtag('js', new Date());

      gtag('config', 'G-D8VGV2T8YH');
	</script>
	<script src='javascript/winwheel/Winwheel.js'></script>
	<script src='javascript/TweenMax.min.js'></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
				integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
					integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
					crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
					integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
					crossorigin="anonymous"></script>
	<link rel="stylesheet" href="css/styles.css"/>
</head>
<body>
<div class="container app">
	<div class="row align-items-md-center">
		<div class="col-md-6 text-center text-md-left d-md-flex justify-content-md-center mb-sm-5">
			<div>
				<h1>Prêt pour 2021 ?</h1>
				<h5>Néo-Soft vous lit l’avenir</h5>
				<div class="d-sm-none d-none d-md-block mt-5">
					<button onclick="startSpin()" class="btn btn-lg text-light">Tourner la roue</button>
				</div>
			</div>
		</div>

		<div class="col-md-6">
						<div class="wheel-container d-flex justify-content-center align-items-center position-relative">
							<canvas
								id="canvas"
								height="400"
								width="400"
								data-responsiveMinWidth="180"
								data-responsiveScaleHeight="true"
								data-responsiveMargin="50"
							>
								Canvas not supported on this browser. Please use another one.
							</canvas>

							<img src="/images/roue-pointeur.png" alt="Le pointeur de la roue" id="pointer" class="position-absolute" />
						</div>
		</div>

		<div class="col-md-6 d-block d-md-none text-center my-5">
			<button onclick="startSpin()" class="btn btn-lg text-light">Tourner la roue</button>
		</div>
	</div>
</div>

<div class="modal fade" id="welcome-popup" tabindex="-1" data-backdrop="static" aria-hidden="true" data-keyboard="false">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-body text-center">
				<div class="d-flex justify-content-center align-items-center h-100">
					<div class="p-3">
						<div class="h1 font-weight-bold mb-5">Néo-Soft vous souhaite une excellente <br>année 2021 !</div>
						<p class="h3 mb-5">Tournez la roue et découvrez ce que cette nouvelle année <br>vous réserve...</p>
						<div class="p-3">
							<button onclick="hideWelcomePopup()" class="btn btn-block btn-lg text-light" style="background-position: center">Commencer</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
    // The responsive parameter is the only difference needed to make a wheel responsive.
    const theWheel = new Winwheel({
        'numSegments': 8,
        'responsive': true,  // This wheel is responsive!
        'drawText': false,
        'drawMode': 'segmentImage',
        'segments': [
            {'image': 'images/roue-portion1.png', 'text': 'sac'},
            {'image': 'images/roue-portion2.png', 'text': 'video'},
            {'image': 'images/roue-portion3.png', 'text': 'pierre'},
            {'image': 'images/roue-portion4.png', 'text': 'tete'},
            {'image': 'images/roue-portion5.png', 'text': 'fleur'},
            {'image': 'images/roue-portion6.png', 'text': 'bras'},
            {'image': 'images/roue-portion7.png', 'text': 'assiete'},
            {'image': 'images/roue-portion8.png', 'text': 'coeur'}
        ],
        'animation': {
            'type': 'spinToStop',
            'duration': 5,
            'spins': 8,
        }
    });

    // Called by the onClick of the canvas, starts the spinning.
    function startSpin() {
        // Stop any current animation.
        theWheel.stopAnimation(false);

        // Reset the rotation angle to less than or equal to 360 so spinning again works as expected.
        // Setting to modulus (%) 360 keeps the current position.
        theWheel.rotationAngle = theWheel.rotationAngle % 360;

        // Start animation.
        theWheel.startAnimation();
    }
</script>

<script>
	window.onload = showWelcomePopup;

	function showWelcomePopup() {
			$('#welcome-popup').modal('show');
  }

  function hideWelcomePopup() {
	    $('#welcome-popup').modal('hide');
	}

</script>
</body>
</html>
